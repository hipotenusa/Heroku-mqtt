<!doctype html>
<html>
    <head>
        <title>SHT15</title>
        <link rel="stylesheet" type="text/css" href="styles.css">
        <script src='//code.jquery.com/jquery-1.7.2.min.js'></script>
        <script src='//192.168.1.132:1234/socket.io/socket.io.js'></script>
        <script>
            var socket = io.connect('//192.168.1.132:1234');
            
            $(document).ready(function(){

                $("#checkboxAGS").click(function() {
                    if (document.getElementById("checkboxAGS").checked) {
                        //if ($this.checked) {
                        socket.emit('cb01' , {status: 'On'})

                    }
                    else
                        socket.emit('cb01' , {status: 'Off'})
                });

            });

            socket.on('checkboxAGS', function(data)
            {
                if (data.status == "Checked")
                    document.getElementById("checkboxAGS").checked = true;
                else if (data.status == "Unchecked")
                    document.getElementById("checkboxAGS").checked = false;
            });

            socket.on('ledAGS', function(data)
            {
                console.log(data);
                if (data.status == "On")
                    document.getElementById("ledAGS").classList.add('led-green');
                else if (data.status == "Off")
                    document.getElementById("ledAGS").classList.remove('led-green');
            });


        </script>
    </head>
    <body>
        <h1> Test </h1>
        <br />
        <p1> Temperatura: </p1>
        <p1 id='temp_message'></p1>

        <br />
        
        <p1> Humedad: </p1>
        <p1 id='hum_message'></p1>
        <br />

        <!-- Rounded switch -->
        <label class="switch">
            <input type="checkbox" id='checkboxAGS'>
            <div class="slider round"></div>
        </label>

     <div class="led led-green" id='ledAGS'></div>

    </body>
</html>
